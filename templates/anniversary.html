<html>
<head>
	<title>百度贴吧企业平台一周年</title>
	<meta charset="utf-8">
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta name="viewport" content="width=750, user-scalable=no" />
	<meta name="format-detection" content="telephone=no,address=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="stylesheet" type="text/css" href="/static/css/swiper.min.css">
	<link rel="stylesheet" type="text/css" href="/static/css/anniversary/layout.css">
	<link rel="stylesheet" type="text/css" href="/static/css/anniversary/animate.css">
	<link rel="stylesheet" type="text/css" href="/static/css/anniversary/icon.css">


</head>
<body>
	<div class="swiper-container">
	    <div class="swiper-wrapper">
	        <div class="swiper-slide m1" id="p1">
	        	<i class="icon1 rotate gear1"></i>
	        	<i class="icon1 rotate-reverse gear2"></i>
	        	<i class="icon1 rotate gear3"></i>
	        	<i class="icon1 floating4 cone1"></i>
	        	<i class="icon1 floating5 cone2"></i>
	        	<i class="icon1 floating3 cube1"></i>
	        	<i class="icon1 brand"></i>
	        	<i class="icon1 flash-fast title"></i>
	        	<i class="icon1 text1"></i>
	        	<i class="icon1 go" id="go"></i>
	        </div>
	        <div class="swiper-slide m1" id="p2">
				<i class="icon2 p2-title"></i>
				<i class="icon2 p2-black-triangle"></i>
				<i class="icon2 p2-green-triangle"></i>
				<div class="icon2 rotate p2-3">
					<div class="triangle-btn tb1"></div>
					<div class="triangle-btn tb2"></div>
					<div class="triangle-btn tb3"></div>
				</div>
	        	<i class="icon2 p2-triangle"></i>
	        </div>
	        <!-- 中信 -->
	        <div class="swiper-slide m1" id="p3">
	        	<i class="card i-red-line"></i>
	        	<i class="icon1 p2-dec1"></i>
	        	<i class="icon1 flash-fast p2-dec2"></i>
	        	<i class="icon1 flash-middle p2-dec3"></i>
	        	<img class="c-card1" src="/static/css/anniversary/card/1.png"data-no="1">
	        	<img class="c-card2 selected-card" src="/static/css/anniversary/card/2.png"data-no="2">
	        	<img class="c-card3" src="/static/css/anniversary/card/3.png"data-no="3">        			
	        	<i class="card p3-tilte3"></i>
	        	<i class="card i-arrow-left j-banka" data-type="left"></i>
	        	<i class="card j-banka i-arrow-right" data-type="right"></i>
	        	<i class="card j-banka i-arrow-middle" data-type="middle"></i>
	        	<i class="card i-selected-card"></i>
	        </div>
	        <div class="swiper-slide m1" id="p4">
	        	<i class="card i-prize1 i-prize"></i>
				<i class="card i-red-line"></i>
	        	<i class="icon1 p2-dec1"></i>
	        	<i class="icon1 flash-fast p2-dec2"></i>
	        	<i class="icon1 flash p2-dec3"></i>	  
	        	<img class="posback" src="/static/css/anniversary/icon/black/posback.png">
	        	<div id="play-area">   
	        		<img class="card1" id="j-swipe-card" src="/static/css/anniversary/icon/black/card1.png">
	        	</div> 
	        	<div class="pos">
	        		<img src="/static/css/anniversary/icon/black/pos.png">
	        		<div class="pos-text">
		        		<p>已消费：¥<span id="j-money"></span></p>
		        		<p>您已达到人均月消费金额。</p>	        
		        	</div>
	        	</div>	        		      	
	        </div>
	    </div>
	</div>
	<script type="text/javascript" src="/static/js/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="/static/js/swiper.jquery.min.js"></script>
	<script type="text/javascript" src="/static/js/touch.js"></script>	
	<script type="text/javascript">
		var swiper = new Swiper('.swiper-container',{
			direction: 'vertical',  //vertical,horizontal
			effect : 'fade',
			speed: 700,

		});	
		$("#go").bind('click', function(){
			swiper.slideNext();
		});
		$('.tb3').bind('click', function() {
			$('.p2-black-triangle').hide()
			$('.p2-green-triangle').addClass('fadeIn');
			setTimeout(function (argument) {
				swiper.slideNext();
			}, 1100)

		});

		touch.on('#j-swipe-card', 'touchstart', function(ev){
			ev.preventDefault();
		});

		var w = 168;
		var playArea = document.querySelector("#play-area");
		var tw = playArea.offsetWidth;
		
		var lf = document.getElementById("j-swipe-card").offsetLeft;
		var rt = tw - w - lf;

		touch.on('#j-swipe-card', 'touchstart', function(ev){
			ev.preventDefault();
		});
		var target = document.getElementById("j-swipe-card");
		target.style.webkitTransition = 'all ease 0.2s';

		// touch.on(target, 'swiperight', function(ev){
		// 	console.log(ev);
		// 	this.style.webkitTransform = "translate3d(" + rt + "px,0,0)";
		// 	// log("向右滑动.");
		// });

		// touch.on(target, 'swipeleft', function(ev){
		// 	// log("向左滑动.");
		// 	this.style.webkitTransform = "translate3d(-" + this.offsetLeft + "px,0,0)";
		// });

		$('.j-banka').bind('click', function() {
			var jQself = $(this);
			var type = jQself.data("type");
			currentClass = 'i-arrow-'+ type;
			pressClass= 'i-arrow-'+type+'-pressed';
			jQself.addClass(pressClass).removeClass(currentClass);
			setTimeout(function(){
				jQself.removeClass(pressClass).addClass(currentClass);
				if(type == 'middle'){
					swiper.slideNext();
				}
			},300);
			var currentCardNo, nextCardNo, prevCardNo;
			currentCardNo = $('.selected-card').data('no');
			nextCardNo = (currentCardNo == 3)? 1: currentCardNo+1;
			prevCardNo = (currentCardNo == 1)?3: currentCardNo-1;
			if(type == 'left'){
				$('.c-card'+currentCardNo).addClass('position1').removeClass('position3 selected-card');
				// 后一张卡左移
				$('.c-card'+nextCardNo).removeClass('position1 position3').addClass('selected-card');
				$('.c-card'+prevCardNo).removeClass('position1').addClass('position3');
			}else if(type=='right'){
				$('.c-card'+currentCardNo).addClass('position3').removeClass('position1 selected-card');
				// 前一张卡右移
				$('.c-card'+prevCardNo).removeClass('position1 position3').addClass('selected-card');
				$('.c-card'+nextCardNo).removeClass('position3').addClass('position1');
			}
		})

	</script>
</body>
</html>